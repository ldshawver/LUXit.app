<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login â€¢ LUX Marketing</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
    <style>
      :root {
        color-scheme: dark;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Inter", "Segoe UI", system-ui, sans-serif;
        background:
          radial-gradient(circle at top, rgba(71, 245, 255, 0.14), transparent 40%),
          radial-gradient(circle at 20% 20%, rgba(255, 79, 216, 0.18), transparent 45%),
          #0b0b0f url("/static/img/login-bg.svg") center/cover no-repeat;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 32px 16px;
      }
      .login-card {
        width: min(420px, 100%);
        background: rgba(12, 14, 20, 0.94);
        border: 1px solid var(--lux-border-strong);
        border-radius: 16px;
        padding: 32px;
        box-shadow: var(--lux-shadow), 0 0 32px rgba(71, 245, 255, 0.25);
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        position: relative;
      }
      .login-card::before {
        content: "";
        position: absolute;
        inset: -1px;
        border-radius: inherit;
        border: 1px solid rgba(255, 255, 255, 0.12);
        pointer-events: none;
      }
      h1 {
        margin: 0 0 8px;
        font-size: 1.8rem;
      }
      p {
        margin: 0 0 24px;
        color: #b6b9c5;
        font-size: 0.95rem;
      }
      label {
        display: block;
        margin-bottom: 8px;
        font-size: 0.85rem;
        color: #e5e7ef;
      }
      input {
        width: 100%;
        padding: 12px 14px;
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(15, 18, 28, 0.9);
        color: #f1f1f5;
        margin-bottom: 16px;
      }
      button {
        width: 100%;
        padding: 12px 16px;
        border-radius: 10px;
        border: none;
        background: linear-gradient(120deg, #7c3aed, #4f46e5);
        color: white;
        font-weight: 600;
        cursor: pointer;
      }
      .flash {
        margin-bottom: 16px;
        padding: 10px 12px;
        border-radius: 10px;
        font-size: 0.85rem;
      }
      .flash.error {
        background: rgba(239, 68, 68, 0.15);
        color: #fca5a5;
      }
      .flash.success {
        background: rgba(34, 197, 94, 0.15);
        color: #86efac;
      }
      @media (max-width: 480px) {
        .login-card {
          padding: 24px;
        }
      }
    </style>
  </head>
  <body>
    <div class="login-card">
      <h1>Welcome back</h1>
      <p>Log in to your LUX Marketing dashboard.</p>

      {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <label for="username">Username or Email</label>
        <input id="username" name="username" type="text" autocomplete="username" required>

        <label for="password">Password</label>
        <input id="password" name="password" type="password" autocomplete="current-password" required>

        <button type="submit">Sign in</button>
      </form>

      <div style="margin-top: 16px; text-align: center;">
        <a href="{{ url_for('auth.forgot_password') }}" style="color: #9aa0b2; text-decoration: none; font-size: 0.85rem;">
          Forgot your password?
        </a>
      </div>

      <div style="margin-top: 8px; text-align: center; font-size: 0.85rem; color: #9aa0b2;">
        Need to create an admin account?
        <a href="{{ url_for('auth.register') }}" style="color: #e5e7ef; text-decoration: none;">
          Register here
        </a>
      </div>
    </div>
  </body>
</html>
